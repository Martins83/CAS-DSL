# CAS-DSL (CAStlE)
A Domain Specific Language for Engineering Collective Adaptive Systems

1. Theoretical fundation of CAStlE

CAStlE is a domain-specific language (DSL) for designing collective adaptive systems (CAS)s. In order to benefit from the adoption of separation-of-concerns principles, it is made-up of three different views that address different aspects of a CAS. In particular, a view is devoted to the definition of an adaptive system, a view deals with the specification of ensembles, and one view tackles the definition of collective adaptation. Each of the views is based on a specific sub-language, whose syntax is defined in terms of a meta-model. Whereas, the semantics of CAStlE is implicitly defined in terms of the mappings between model elements and the corresponding behaviour enacted by the DeMOCAS execution engine. Essentially, the three metamodels abstract CASs by mirroring the formalization illustrated in !!TODO:ADD CITATION!!. Therefore, for further details about the formalization the reader is referred to the just mentioned paper.  

1.1 The Adaptive System Metamodel
The Adaptive System metamodel is shown in figure !!TODO:ADD FIGURE REF!!. In particular an AdaptiveSystem is a composition of DomainObjects, each of which has a name and contains: a CoreProcess; Fragment(s); DomainProperty(ies). Both CoreProcess and Fragment are a composition of State(s), Transition(s), Activity(ies), and Annotation(s). They are used to define the behaviour provided by a domain object in terms of state/transition systems enriched with activities and annotations. Both processes and fragments act over DomainProperty(ies), that represent internal and external knowledge for a domain object. In the case of internal knowledge, the domain object contains the corresponding property, while in case of external knowledge the domain object just refers to a property by means of an association. DomainProperty(ies) are state/transition systems as well.

1.2 The Ensemble Model Metamodel
The Ensemble Model metamodel is shown in figure !!TODO:ADD FIGURE REF!!. An Ensemble is a composition of Role(s) and IssueType(s). Each Role is, indeed, the role through which a certain domain object participates in an ensemble. Interconnected with its role, there are a number of RoleParameter(s) and Preference(s) defined for the domain object. A role can trigger issues defined in the ensemble and provide Solver(s) compatible with certain IssueType(s). Both issues and solvers can defined their own parameters. It is important to notice that the DomainObject concept of this metamodel is directly linked to the one in the Adaptive System metamodel through the domainObjectSpecification link. This entails that at modelling level it will only be possible to define roles in an ensemble model for domain objects already defined in an adaptive system model.

1.3 The Collective Adaptation Model Metamodel
The Collective Adaptation Model metamodel is shown in figure !!TODO:ADD FIGURE REF!!. A Collective Adaptation is a composition of EvenHandler(s), which are defined over RoleActivity(ies) grouped in scopes. Handlers catch Event(s), i.e. issues, and counteract with Adaptation(s), i.e. solvers. Also in this case, RoleActivity, IssueType, and Solver entities are directly connected with their definitions in Adaptative System and Ensemble, therefore it will only be possible to define collective adaptations based on elements already existing in an adaptative system and in an ensemble model, respectively.
